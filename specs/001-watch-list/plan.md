# Implementation Plan: è¦–è´äºˆå®šãƒªã‚¹ãƒˆ

**Branch**: `001-watch-list` | **Date**: 2025-11-20 | **Spec**: [specs/001-watch-list/spec.md](./spec.md)
**Input**: Feature specification from `/specs/001-watch-list/spec.md`

**Note**: This template is filled in by the `/speckit.plan` command. See `.specify/templates/commands/plan.md` for the execution workflow.

## Summary

ãƒ‰ãƒ©ãƒãƒ»ã‚¢ãƒ‹ãƒ¡ãƒ»æ˜ ç”»ã‚’ã€Œè¦–è´äºˆå®šã€ã¨ã—ã¦ç™»éŒ²ã—ã€ã‚¿ã‚¤ãƒˆãƒ«â†’ã‚·ãƒªãƒ¼ã‚ºâ†’ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã®éšå±¤æ§‹é€ ã§ç®¡ç†ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚å†…éƒ¨çš„ã«ã¯ã™ã¹ã¦ã®ã‚¿ã‚¤ãƒˆãƒ«ãŒæœ€ä½1ã¤ã®ã‚·ãƒªãƒ¼ã‚ºãƒ»ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚’æŒã¤çµ±ä¸€çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã‚’æ¡ç”¨ã—ã€UIä¸Šã§ã¯éšå±¤ã®æ·±ã•ã«å¿œã˜ã¦ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’å‹•çš„ã«éè¡¨ç¤ºã«ã™ã‚‹ã“ã¨ã§UXã‚’æœ€é©åŒ–ã—ã¾ã™ã€‚è¦–è´çŠ¶æ…‹ã®ç®¡ç†ï¼ˆæœªè¦–è´/è¦–è´æ¸ˆã¿ï¼‰ã€è¤‡æ•°å›è¦–è´å±¥æ­´ã®è¨˜éŒ²ã€ã‚¿ã‚¤ãƒˆãƒ«ãƒ»çŠ¶æ…‹ã«ã‚ˆã‚‹ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«Spring Boot + MyBatis + PostgreSQLã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã«Next.js + React + TypeScriptã‚’æ¡ç”¨ã—ã€DDD + ã‚ªãƒ‹ã‚ªãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨TDDåŸå‰‡ã«å¾“ã£ã¦å®Ÿè£…ã—ã¾ã™ã€‚

## Technical Context

**Language/Version**:
- Backend: Java 17 (LTS)
- Frontend: TypeScript 5.3

**Primary Dependencies**:
- Backend: Spring Boot, MyBatis, PostgreSQL, Flyway
- Frontend: Next.js, React
- Testing: JUnit (Backend), Jest + Testing Library (Frontend), Playwright (E2E)

**Storage**: PostgreSQL
- ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ: æ­£è¦åŒ–ï¼ˆç¬¬3æ­£è¦å½¢ï¼‰+ JSONBï¼ˆURL ãƒªã‚¹ãƒˆï¼‰ + å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ + CASCADE DELETE
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: Flywayï¼ˆSQL ãƒ™ãƒ¼ã‚¹ã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ï¼‰
- è©³ç´°: `data-model.md` ã‚’å‚ç…§

**Testing**:
- Backend: JUnit + Spring Test
- Frontend: Jest + React Testing Library
- E2E: Playwrightï¼ˆNext.js å…¬å¼æ¨å¥¨ã€ã‚¯ãƒ­ã‚¹ãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œï¼‰

**Target Platform**: Web Application (Linux server for backend, browser for frontend)

**Project Type**: Web (backend + frontend)

**Performance Goals**:
- æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿çµæœã‚’1ç§’ä»¥å†…ã«è¡¨ç¤ºï¼ˆp95 < 1ç§’ï¼‰
- API ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ : p95 < 200ms
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¯ã‚¨ãƒª: p95 < 50ms
- æœ€å°é™500ã‚¿ã‚¤ãƒˆãƒ«ä»¥ä¸Šã®ãƒ‡ãƒ¼ã‚¿ã‚’å®‰å®šç®¡ç†
- åŒæ™‚æ¥ç¶šãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°: åˆæœŸ 10 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€æ‹¡å¼µ 100+ ãƒ¦ãƒ¼ã‚¶ãƒ¼
- ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ç§’: 100 req/s

**Constraints**:
- è¤‡æ•°éšå±¤æ§‹é€ ï¼ˆã‚¿ã‚¤ãƒˆãƒ«â†’ã‚·ãƒªãƒ¼ã‚ºâ†’ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ï¼‰ã®å‹•çš„UIåˆ‡ã‚Šæ›¿ãˆ
- è¦–è´å±¥æ­´ã®è¤‡æ•°å›è¨˜éŒ²ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
- ãƒ¡ãƒ¢ãƒªåˆ¶ç´„ï¼ˆé–‹ç™ºç’°å¢ƒï¼‰: Backend 512MB, Frontend 256MB, DB 256MB
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¿ã‚¤ãƒ : API p95 < 200ms, ãƒšãƒ¼ã‚¸ p95 < 1ç§’

**Scale/Scope**:
- åˆæœŸç›®æ¨™: 500 ã‚¿ã‚¤ãƒˆãƒ«ä»¥ä¸Š
- æ‹¡å¼µç›®æ¨™: 1000+ ã‚¿ã‚¤ãƒˆãƒ«ä»¥ä¸Š
- 1ã‚¿ã‚¤ãƒˆãƒ«ã‚ãŸã‚Šå¹³å‡ 2-3 ã‚·ãƒªãƒ¼ã‚ºï¼ˆæœ€å¤§ 20ï¼‰ã€1ã‚·ãƒªãƒ¼ã‚ºã‚ãŸã‚Šå¹³å‡ 12 ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ï¼ˆæœ€å¤§ 100ï¼‰
- 1ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã‚ãŸã‚Šå¹³å‡ 1-2 å›è¦–è´ï¼ˆæœ€å¤§ 10ï¼‰ã€å¹³å‡ 2-3 ä»¶ URLï¼ˆæœ€å¤§ 10ï¼‰
- æƒ³å®šãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°: åˆæœŸ 1-10 ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€æ‹¡å¼µ 100+ ãƒ¦ãƒ¼ã‚¶ãƒ¼
- ãƒ‡ãƒ¼ã‚¿ãƒœãƒªãƒ¥ãƒ¼ãƒ ä¸Šé™: 1000 ã‚¿ã‚¤ãƒˆãƒ« Ã— 3 ã‚·ãƒªãƒ¼ã‚º Ã— 12 ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ = 36,000 ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

## Constitution Check

*GATE: Must pass before Phase 0 research. Re-check after Phase 1 design.*

### I. DDD + ã‚ªãƒ‹ã‚ªãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æº–æ‹ 
- âœ… **Domainå±¤ã®ç´”ç²‹æ€§**: Title, Series, Episode, ViewingRecord ã‚’ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã¨ã—ã¦å®šç¾©ã—ã€ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯éä¾å­˜ã®ç´”ç²‹Javaã§å®Ÿè£…
- âœ… **ä¾å­˜æ€§é€†è»¢**: domain/repository ã«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€infrastructure/persistence ã« MyBatis å®Ÿè£…ã‚’é…ç½®
- âœ… **å±¤åˆ†é›¢**: Presentation (REST Controller) â†’ Application (UseCase) â†’ Domain â†’ Infrastructure ã®ä¾å­˜æ–¹å‘ã‚’éµå®ˆ

### II. ä»•æ§˜ä¸»å°é–‹ç™ºæº–æ‹ 
- âœ… **ä»•æ§˜å…ˆè¡Œ**: spec.md â†’ plan.md â†’ tasks.md â†’ å®Ÿè£… ã®é †åºã‚’éµå®ˆ
- âœ… **APIå¥‘ç´„**: OpenAPI ã‚¹ã‚­ãƒ¼ãƒã‚’ Phase 1 ã§ä½œæˆï¼ˆcontracts/ é…ä¸‹ï¼‰
- âœ… **ä¸Šæµæ›´æ–°**: ä»•æ§˜å¤‰æ›´æ™‚ã¯ spec.md â†’ å¥‘ç´„ â†’ å®Ÿè£… ã®é †ã«æ•´åˆæ€§ã‚’ç¶­æŒ

### III. ãƒ†ã‚¹ãƒˆé‡è¦–ã¨ãƒªã‚°ãƒ¬ãƒƒã‚·ãƒ§ãƒ³é˜²æ­¢æº–æ‹ 
- âœ… **ãƒ†ã‚¹ãƒˆæˆ¦ç•¥æ˜ç¢ºåŒ–**: å˜ä½“ãƒ†ã‚¹ãƒˆï¼ˆDomain/Applicationå±¤ï¼‰ã€çµ±åˆãƒ†ã‚¹ãƒˆï¼ˆãƒ¬ã‚¤ãƒ¤é–“é€£æºï¼‰ã€E2E ãƒ†ã‚¹ãƒˆï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼å…¨ä½“ï¼‰ã‚’å®šç¾©
- âœ… **ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™**: ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ãƒ»ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã§80%ä»¥ä¸Šã®ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’ç›®æ¨™
- âš ï¸ **TDDå®Ÿè·µ**: Phase 2 ã§ Red-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«ã‚’å®Ÿæ–½ï¼ˆå…·ä½“çš„ãªæ‰‹é †ã¯ tasks.md ã§å®šç¾©ï¼‰

### IV. ä¿å®ˆæ€§ã¨ã‚·ãƒ³ãƒ—ãƒ«ã•ã®å„ªå…ˆæº–æ‹ 
- âœ… **éåº¦ãªæŠ½è±¡åŒ–ã‚’é¿ã‘ã‚‹**: å¿…è¦æœ€å°é™ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ï¼ˆ4ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰ã§å®Ÿè£…ã€ç„¡é§„ãªæŠ½è±¡å±¤ã¯ä½œæˆã—ãªã„
- âœ… **DDD ã®è¤‡é›‘æ€§ã¯è¨±å®¹**: é•·æœŸä¿å®ˆæ€§ã®ãŸã‚ã®ã‚ªãƒ‹ã‚ªãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ¡ç”¨ã¯å¦¥å½“

### V. ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºï¼ˆTDDï¼‰æ¡ç”¨æº–æ‹ 
- âœ… **TDD ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**: Phase 2 å®Ÿè£…æ™‚ã« Red-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«ã‚’é©ç”¨
- âš ï¸ **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆåŸå‰‡**: æ©Ÿèƒ½å®Ÿè£…å‰ã«ãƒ†ã‚¹ãƒˆã‚’è¨˜è¿°ï¼ˆtasks.md ã§å…·ä½“åŒ–ï¼‰

### VI. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆè¨€èªã®çµ±ä¸€ã¨è‹±èªã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æº–æ‹ 
- âœ… **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ—¥æœ¬èª**: spec.md, plan.md, tasks.md ã¯æ—¥æœ¬èªã§è¨˜è¿°
- âœ… **ã‚³ãƒ¼ãƒ‰è‹±èª**: ã‚¯ãƒ©ã‚¹åãƒ»ãƒ¡ã‚½ãƒƒãƒ‰åãƒ»å¤‰æ•°åã¯è‹±èªã§è¨˜è¿°
- âœ… **ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªå®šç¾©**: data-model.md ã§æ—¥æœ¬èªâ†”è‹±èªã®ç”¨èªå¯¾å¿œè¡¨ã‚’å®šç¾©
  - ã€Œã‚¿ã‚¤ãƒˆãƒ«ã€= "Title"ã€ã€Œã‚·ãƒªãƒ¼ã‚ºã€= "Series"ã€ã€Œã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã€= "Episode"ã€ã€Œè¦–è´å±¥æ­´ã€= "ViewingRecord"
  - ã€Œè¦–è´çŠ¶æ…‹ã€= "WatchStatus"ã€ã€Œã‚¿ã‚¤ãƒˆãƒ«æƒ…å ±URLã€= "TitleInfoUrl"ã€ã€Œè¦–è´ãƒšãƒ¼ã‚¸URLã€= "WatchPageUrl"

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ–¹é‡æº–æ‹ 
- âœ… **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ¬ã‚¤ãƒ¤æ§‹é€ **: domain, application, infrastructure, presentation ã®4å±¤æ§‹é€ ã‚’æ¡ç”¨
- âœ… **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¨­è¨ˆ**: Next.js App Router + src/app/, src/components/, src/lib/ ã®æ§‹é€ ã‚’æ¡ç”¨
- âœ… **MyBatis é¸æŠ**: SQL æ˜ç¤ºçš„åˆ¶å¾¡ã€ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ç‹¬ç«‹æ€§ã€ãƒªãƒã‚¸ãƒˆãƒªå®Ÿè£…æŸ”è»Ÿæ€§ã‚’æ´»ç”¨

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯æº–æ‹ 
- âœ… **Backend**: Java + Spring Boot + MyBatis + PostgreSQL + Flyway + JUnit
- âœ… **Frontend**: TypeScript + React + Next.js + Jest + Testing Library
- âœ… **API å¥‘ç´„**: REST API + OpenAPI

### ã‚¤ãƒ³ãƒ•ãƒ©ãƒ»å®Ÿè¡Œç’°å¢ƒæº–æ‹ 
- âœ… **docker compose å¿…é ˆ**: é–‹ç™ºç’°å¢ƒã§ docker compose ã«ã‚ˆã‚‹èµ·å‹•ãƒ»ç®¡ç†ã‚’å®Ÿæ–½
- âœ… **è¨­å®šç®¡ç†**: .env ãƒ•ã‚¡ã‚¤ãƒ« + compose ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†ã€ã‚³ãƒ¼ãƒ‰ã¸ã®ãƒ™ã‚¿æ›¸ãç¦æ­¢
- âœ… **ãƒªãƒã‚¸ãƒˆãƒªæ§‹æˆ**: backend/, frontend/, docker-compose.yml, .specify/ ã®æ§‹æˆã‚’éµå®ˆ

**GATE åˆ¤å®š (Phase 1 å®Œäº†å¾Œ)**:
- âœ… PASS
- Phase 0 ã§ NEEDS CLARIFICATION é …ç›®ã‚’ã™ã¹ã¦è§£æ±ºï¼ˆresearch.mdï¼‰
- Phase 1 ã§ data-model.md, contracts/openapi.yaml, quickstart.md ã‚’ç”Ÿæˆ
- ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªå®šç¾©å®Œäº†ï¼ˆdata-model.mdï¼‰
- æ®‹ã‚Š âš ï¸ é …ç›®ï¼ˆTDD å®Ÿè·µã€ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆåŸå‰‡ï¼‰ã¯ Phase 2ï¼ˆtasks.md + å®Ÿè£…ï¼‰ã§è§£æ±º

## Project Structure

### Documentation (this feature)

```text
specs/[###-feature]/
â”œâ”€â”€ plan.md              # This file (/speckit.plan command output)
â”œâ”€â”€ research.md          # Phase 0 output (/speckit.plan command)
â”œâ”€â”€ data-model.md        # Phase 1 output (/speckit.plan command)
â”œâ”€â”€ quickstart.md        # Phase 1 output (/speckit.plan command)
â”œâ”€â”€ contracts/           # Phase 1 output (/speckit.plan command)
â””â”€â”€ tasks.md             # Phase 2 output (/speckit.tasks command - NOT created by /speckit.plan)
```

### Source Code (repository root)

```text
backend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/com/example/videowatchlog/
â”‚   â”‚   â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ model/          # Title, Series, Episode, ViewingRecord ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ repository/     # ãƒªãƒã‚¸ãƒˆãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ï¼ˆä¾å­˜æ€§é€†è»¢ï¼‰
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ service/        # ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒ“ã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ service/        # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹å®Ÿè£…
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dto/            # ãƒ‡ãƒ¼ã‚¿è»¢é€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ usecase/        # ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã‚¯ãƒ©ã‚¹
â”‚   â”‚   â”‚   â”œâ”€â”€ infrastructure/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ persistence/    # MyBatis Mapper å®Ÿè£…
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ config/         # Spring Boot è¨­å®š
â”‚   â”‚   â”‚   â””â”€â”€ presentation/
â”‚   â”‚   â”‚       â””â”€â”€ controller/     # REST API ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ db/migration/       # Flyway ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”‚       â””â”€â”€ application.yml     # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
â”‚   â””â”€â”€ test/
â”‚       â””â”€â”€ java/com/example/videowatchlog/
â”‚           â”œâ”€â”€ domain/             # ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤å˜ä½“ãƒ†ã‚¹ãƒˆ
â”‚           â”œâ”€â”€ application/        # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤çµ±åˆãƒ†ã‚¹ãƒˆ
â”‚           â””â”€â”€ integration/        # ãƒ¬ã‚¤ãƒ¤é–“çµ±åˆãƒ†ã‚¹ãƒˆ
â””â”€â”€ pom.xml

frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                        # Next.js App Router ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”œâ”€â”€ page.tsx               # ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ä¸€è¦§ï¼‰
â”‚   â”‚   â”œâ”€â”€ titles/                # ã‚¿ã‚¤ãƒˆãƒ«é–¢é€£ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â”œâ”€â”€ [id]/             # ã‚¿ã‚¤ãƒˆãƒ«è©³ç´°ãƒšãƒ¼ã‚¸
â”‚   â”‚   â”‚   â””â”€â”€ new/              # ã‚¿ã‚¤ãƒˆãƒ«ä½œæˆãƒšãƒ¼ã‚¸
â”‚   â”‚   â””â”€â”€ layout.tsx            # å…±é€šãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ components/                # å†åˆ©ç”¨å¯èƒ½ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ title/                # ã‚¿ã‚¤ãƒˆãƒ«é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ series/               # ã‚·ãƒªãƒ¼ã‚ºé–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ episode/              # ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰é–¢é€£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ common/               # å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”‚   â”œâ”€â”€ lib/                       # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â”œâ”€â”€ api/                  # API ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”‚   â””â”€â”€ utils/                # ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°
â”‚   â””â”€â”€ types/                     # TypeScript å‹å®šç¾©
â””â”€â”€ tests/
    â”œâ”€â”€ unit/                      # ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå˜ä½“ãƒ†ã‚¹ãƒˆ
    â””â”€â”€ integration/               # API é€£æºçµ±åˆãƒ†ã‚¹ãƒˆ

docker-compose.yml                 # é–‹ç™ºç’°å¢ƒ docker compose å®šç¾©
.env.example                       # ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
.specify/                          # Spec Kitï¼ˆä»•æ§˜ãƒ»è¨ˆç”»ãƒ»ã‚¿ã‚¹ã‚¯ï¼‰
```

**Structure Decision**: Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ§‹æˆï¼ˆOption 2ï¼‰ã‚’é¸æŠã€‚ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯ DDD + ã‚ªãƒ‹ã‚ªãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«æº–æ‹ ã—ãŸ4å±¤æ§‹é€ ï¼ˆdomain, application, infrastructure, presentationï¼‰ã§å®Ÿè£…ã—ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯ Next.js App Router ã‚’ä½¿ç”¨ã—ãŸ src/app/ + src/components/ + src/lib/ ã®æ§‹é€ ã‚’æ¡ç”¨ã—ã¾ã™ã€‚docker compose ã«ã‚ˆã‚Šã€é–‹ç™ºç’°å¢ƒã§ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ»ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»PostgreSQL ã‚’çµ±åˆç®¡ç†ã—ã¾ã™ã€‚

## Complexity Tracking

> **Fill ONLY if Constitution Check has violations that must be justified**

è©²å½“ãªã—ã€‚Constitution Check ã¯å…¨é …ç›®ã§PASSã—ã¦ã„ã¾ã™ã€‚

---

## Phase Completion Summary

### Phase 0: Outline & Research âœ… COMPLETED

**æˆæœç‰©**: `research.md`

**è§£æ±ºã—ãŸ NEEDS CLARIFICATION é …ç›®**:
1. Java ãƒãƒ¼ã‚¸ãƒ§ãƒ³ â†’ **Java 17 (LTS)**
2. TypeScript ãƒãƒ¼ã‚¸ãƒ§ãƒ³ â†’ **TypeScript 5.3**
3. DB ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ â†’ **æ­£è¦åŒ– + JSONB + å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ + CASCADE DELETE**
4. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥ â†’ **Flywayï¼ˆSQL ãƒ™ãƒ¼ã‚¹ï¼‰**
5. E2E ãƒ†ã‚¹ãƒˆãƒ„ãƒ¼ãƒ« â†’ **Playwright**
6. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™ â†’ **åŒæ™‚æ¥ç¶š 10 ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆåˆæœŸï¼‰ã€100 req/sã€p95 < 200msï¼ˆAPIï¼‰ã€p95 < 1ç§’ï¼ˆãƒšãƒ¼ã‚¸ï¼‰**
7. ãƒ¡ãƒ¢ãƒªåˆ¶ç´„ â†’ **Backend 512MB, Frontend 256MB, DB 256MBï¼ˆé–‹ç™ºç’°å¢ƒï¼‰**
8. ãƒ‡ãƒ¼ã‚¿ãƒœãƒªãƒ¥ãƒ¼ãƒ  â†’ **åˆæœŸ 500 ã‚¿ã‚¤ãƒˆãƒ«ã€æ‹¡å¼µ 1000+ ã‚¿ã‚¤ãƒˆãƒ«ã€36,000 ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ**

**æŠ€è¡“é¸å®š**:
- DDD ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹èª¿æŸ»å®Œäº†
- MyBatis + PostgreSQL çµ±åˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹èª¿æŸ»å®Œäº†
- Next.js + React ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹èª¿æŸ»å®Œäº†

### Phase 1: Design & Contracts âœ… COMPLETED

**æˆæœç‰©**:
1. `data-model.md` - ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã€å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã€ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ«ãƒ¼ãƒ«ã€DB ã‚¹ã‚­ãƒ¼ãƒ
2. `contracts/openapi.yaml` - REST API å¥‘ç´„ï¼ˆOpenAPI 3.0.3ï¼‰
3. `quickstart.md` - é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

**ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ**:
- ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£: Title, Series, Episode, ViewingRecord
- å€¤ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ: TitleInfoUrl, WatchPageUrl
- åˆ—æŒ™å‹: WatchStatus (UNWATCHED, WATCHED)
- ãƒ¦ãƒ“ã‚­ã‚¿ã‚¹è¨€èªï¼ˆæ—¥æœ¬èªâ†”è‹±èªï¼‰å¯¾å¿œè¡¨å®Œæˆ
- DB ã‚¹ã‚­ãƒ¼ãƒï¼ˆPostgreSQLï¼‰å®šç¾©å®Œæˆ

**API å¥‘ç´„è¨­è¨ˆ**:
- ã‚¿ã‚¤ãƒˆãƒ«ç®¡ç†: GET/POST/PUT/DELETE /titles
- ã‚·ãƒªãƒ¼ã‚ºç®¡ç†: POST/GET/PUT/DELETE /series
- ã‚¨ãƒ”ã‚½ãƒ¼ãƒ‰ç®¡ç†: POST/GET/PUT/DELETE /episodes
- è¦–è´å±¥æ­´ç®¡ç†: POST/DELETE /viewing-records
- è¦–è´å®Œäº†: POST /episodes/{id}/complete

**Agent Context æ›´æ–°**:
- `.specify/scripts/bash/update-agent-context.sh claude` å®Ÿè¡Œå®Œäº†
- CLAUDE.md ã«æœ¬æ©Ÿèƒ½ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ãƒ»æ§‹æˆã‚’è¿½åŠ 

### Phase 2: Tasks & Implementation ğŸ”œ NEXT

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**:
1. `/speckit.tasks` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€`tasks.md` ã‚’ç”Ÿæˆ
2. TDDï¼ˆRed-Green-Refactor ã‚µã‚¤ã‚¯ãƒ«ï¼‰ã«å¾“ã£ã¦å®Ÿè£…ã‚¿ã‚¹ã‚¯ã‚’å®šç¾©
3. å®Ÿè£…é †åº: ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤ â†’ ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ â†’ ã‚¤ãƒ³ãƒ•ãƒ©å±¤ â†’ ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤
4. å„ã‚¿ã‚¹ã‚¯ã«ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚’è¨˜è¿°

---

## Notes

**æœ¬ãƒ—ãƒ©ãƒ³ã¯ `/speckit.plan` ã‚³ãƒãƒ³ãƒ‰ã«ã‚ˆã‚Š Phase 0-1 ã¾ã§å®Œäº†ã—ã¾ã—ãŸã€‚**

æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—:
- Phase 2ï¼ˆã‚¿ã‚¹ã‚¯ç”Ÿæˆï¼‰ã¯ `/speckit.tasks` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„
- Phase 3ï¼ˆå®Ÿè£…ï¼‰ã¯ `/speckit.implement` ã‚³ãƒãƒ³ãƒ‰ã¾ãŸã¯æ‰‹å‹•å®Ÿè£…ã§é€²ã‚ã¦ãã ã•ã„

**é‡è¦ãªãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹**:
- ä»•æ§˜æ›¸: `specs/001-watch-list/spec.md`
- ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«: `specs/001-watch-list/data-model.md`
- API å¥‘ç´„: `specs/001-watch-list/contracts/openapi.yaml`
- ã‚¯ã‚¤ãƒƒã‚¯ã‚¹ã‚¿ãƒ¼ãƒˆ: `specs/001-watch-list/quickstart.md`
- ãƒªã‚µãƒ¼ãƒçµæœ: `specs/001-watch-list/research.md`
- æ†²æ³•: `.specify/memory/constitution.md`
